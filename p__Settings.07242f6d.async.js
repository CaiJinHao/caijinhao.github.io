(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[806],{64317:function(ne,A,e){"use strict";var Z=e(22122),p=e(28991),v=e(81253),P=e(67294),r=e(76319),d=e(22270),O=e(66758),g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],y=P.forwardRef(function(n,N){var K=n.fieldProps,b=n.children,B=n.params,a=n.proFieldProps,R=n.mode,W=n.valueEnum,L=n.request,_=n.showSearch,S=n.options,i=(0,v.Z)(n,g),s=(0,P.useContext)(O.Z);return P.createElement(r.Z,(0,Z.Z)({mode:"edit",valueEnum:(0,d.h)(W),request:L,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,p.Z)({options:S,mode:R,showSearch:_,getPopupContainer:s.getPopupContainer},K),ref:N,proFieldProps:a},i),b)}),c=P.forwardRef(function(n,N){var K=n.fieldProps,b=n.children,B=n.params,a=n.proFieldProps,R=n.mode,W=n.valueEnum,L=n.request,_=n.options,S=(0,v.Z)(n,u),i=(0,p.Z)({options:_,mode:R||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},K),s=(0,P.useContext)(O.Z);return P.createElement(r.Z,(0,Z.Z)({mode:"edit",valueEnum:(0,d.h)(W),request:L,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,p.Z)({getPopupContainer:s.getPopupContainer},i),ref:N,proFieldProps:a},S),b)}),q=y,U=c,Y=q;Y.SearchSelect=U,Y.displayName="ProFormComponent",A.Z=Y},94465:function(ne,A,e){"use strict";e.r(A),e.d(A,{default:function(){return _}});var Z=e(11849),p=e(3182),v=e(2824),P=e(94043),r=e.n(P),d=e(67294),O=e(80853),g=e(70667),u=e(63876),y=e(21010),c=function(){var S=(0,p.Z)(r().mark(function i(s){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.WY)("".concat(Identity_API,"api/v1/Settings/all"),{method:"Get",params:s});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},i)}));return function(s){return S.apply(this,arguments)}}(),q=function(){var S=(0,p.Z)(r().mark(function i(s){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.WY)("".concat(Identity_API,"api/v1/Settings"),{method:"Get",params:s});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},i)}));return function(s){return S.apply(this,arguments)}}(),U=function(){var S=(0,p.Z)(r().mark(function i(s){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.WY)("".concat(Identity_API,"api/v1/Settings"),{method:"Put",data:s});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},i)}));return function(s){return S.apply(this,arguments)}}(),Y=e(77576),n=e(12028),N=e(952),K=e(37476),b=e(5966),B=e(64317),a=e(85893),R=function(i){var s=i.operator,T=i.visible,t=i.current,$=i.onCancel,G=i.onSubmit,V=i.children,ee=(0,d.useState)(),k=(0,v.Z)(ee,2),h=k[0],H=k[1],m=(0,y.YB)(),z=function(){var D=(0,p.Z)(r().mark(function j(M){var w,Q;return r().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!t){I.next=7;break}return w=Object.assign(t,M),I.next=4,U(w);case 4:G(w),I.next=11;break;case 7:return Q=M,I.next=10,U(Q);case 10:G(M);case 11:case"end":return I.stop()}},j)}));return function(M){return D.apply(this,arguments)}}(),ae=(0,d.useCallback)((0,p.Z)(r().mark(function D(){return r().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,u.VH)();case 2:return M.abrupt("return",M.sent);case 3:case"end":return M.stop()}},D)})),[]),J=(0,d.useMemo)(function(){var D=m.formatMessage({id:"DisplayName:SettingDefinitionDto",defaultMessage:""});switch(s){case u.cI.Add:D="".concat(D," ").concat(m.formatMessage({id:"Permission:Create",defaultMessage:"\u521B\u5EFA"}));break;case u.cI.Edit:D="".concat(D," ").concat(m.formatMessage({id:"Permission:Edit",defaultMessage:"\u7F16\u8F91"}));break;case u.cI.Detail:D="".concat(D," ").concat(m.formatMessage({id:"Permission:Detail",defaultMessage:"\u8BE6\u60C5"}));break;default:break}return D},[m,s]);return(0,d.useEffect)(function(){H(J)},[t,s,J]),!t&&s!=u.cI.Add?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(K.Y,{visible:T,title:h,onFinish:z,initialValues:s==u.cI.Add?{}:t,trigger:(0,a.jsx)(a.Fragment,{children:V}),modalProps:{onCancel:function(){return $()},destroyOnClose:!0},submitter:s==u.cI.Detail?!1:{},children:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(N.ZP.Group,{children:[s!=u.cI.Add&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{width:"md",name:"displayName",disabled:!0,label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:DisplayName",defaultMessage:"\u663E\u793A\u540D\u79F0"})}),(0,a.jsx)(b.Z,{width:"md",name:"description",disabled:!0,label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:Description",defaultMessage:"\u63CF\u8FF0"})})]}),(0,a.jsx)(B.Z,{width:"md",name:"providerName",initialValue:t==null?void 0:t.providerNameEnum,tooltip:"D\u548CC\u4E3A\u786C\u7F16\u7801\u914D\u7F6E\uFF0C\u4E0D\u53EF\u4FEE\u6539\uFF0C\u53EF\u4F7F\u7528G\u8FDB\u884C\u8986\u76D6\u914D\u7F6E\u9879",label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:ProviderName",defaultMessage:"\u63D0\u4F9B\u8005\u540D\u79F0"}),rules:[{required:!0,message:"".concat(m.formatMessage({id:"form.rules.message",defaultMessage:"\u8BF7\u8F93\u5165"}),"${label}")}],allowClear:!0,request:ae}),(0,a.jsx)(b.Z,{width:"md",name:"providerKey",tooltip:"\u5F53\u63D0\u4F9B\u8005\u540D\u79F0\u4E3AT\u548CU\u65F6\u6709\u6548\uFF0C\u4E3A\u7A7A\u65F6\u8BBE\u7F6E\u4E3A\u5F53\u524D\u767B\u5F55\u76F8\u5173\u5C5E\u6027\uFF0C\u5168\u5C40\u8BBE\u7F6E\u65E0\u9700\u586B\u5199",label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:ProviderKey",defaultMessage:"\u63D0\u4F9B\u8005Key"})}),(0,a.jsx)(b.Z,{width:"md",name:"name",label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:Name",defaultMessage:"\u540D\u79F0"}),rules:[{required:!0,message:"".concat(m.formatMessage({id:"form.rules.message",defaultMessage:"\u8BF7\u8F93\u5165"}),"${label}")}]}),(0,a.jsx)(b.Z,{width:"md",name:"value",label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:Value",defaultMessage:"\u503C"}),rules:[{required:!0,message:"".concat(m.formatMessage({id:"form.rules.message",defaultMessage:"\u8BF7\u8F93\u5165"}),"${label}")}]}),(0,a.jsx)(N.ZP.Item,{name:"forceToSet",label:m.formatMessage({id:"DisplayName:SettingDefinitionDto:ForceToSet",defaultMessage:"\u5F3A\u5236\u66F4\u65B0"}),children:(0,a.jsx)(n.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED"})})]})})})})},W=R,L=function(){var i=(0,y.md)(),s=(0,d.useState)(!1),T=(0,v.Z)(s,2),t=T[0],$=T[1],G=(0,d.useState)(u.cI.Detail),V=(0,v.Z)(G,2),ee=V[0],k=V[1],h=(0,y.YB)(),H=(0,d.useRef)(),m=(0,d.useState)(0),z=(0,v.Z)(m,2),ae=z[0],J=z[1],D=(0,d.useState)([]),j=(0,v.Z)(D,2),M=j[0],w=j[1],Q=(0,d.useState)(void 0),te=(0,v.Z)(Q,2),I=te[0],se=te[1],le=function(){var o;(o=H.current)===null||o===void 0||o.reload(),w([])},de=(0,d.useCallback)((0,p.Z)(r().mark(function E(){return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,u.VH)();case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},E)})),[]),ce=function(){$(!1)},me=function(){$(!1),le()},pe=function(){var E=(0,p.Z)(r().mark(function o(l,F){var f;return r().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return k(l),$(!0),C.next=4,q({providerName:F.providerNameEnum,providerKey:F.providerKey,name:F.name});case 4:f=C.sent,l==u.cI.Edit&&(f.providerNameEnum==0||f.providerNameEnum==1)&&(f.providerNameEnum=2),delete f.providerName,se(f);case 8:case"end":return C.stop()}},o)}));return function(l,F){return E.apply(this,arguments)}}(),fe=function(){var E=(0,p.Z)(r().mark(function o(l){return r().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,pe(u.cI.Edit,l);case 2:case"end":return f.stop()}},o)}));return function(l){return E.apply(this,arguments)}}();(0,d.useEffect)(function(){se(void 0)},[t]);var ve=[{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:ProviderName",defaultMessage:"\u63D0\u4F9B\u8005\u540D\u79F0"}),dataIndex:"providerName",request:de},{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:ProviderKey",defaultMessage:"\u63D0\u4F9B\u8005Key"}),dataIndex:"providerKey",tooltip:"\u5F53\u63D0\u4F9B\u8005\u540D\u79F0\u4E3AT\u548CU\u65F6\u53EF\u67E5\u8BE2\uFF0C\u5176\u4ED6\u503C\u67E5\u8BE2\u65E0\u6548"},{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:Name",defaultMessage:"\u540D\u79F0"}),dataIndex:"name"},{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:DisplayName",defaultMessage:"\u663E\u793A\u540D\u79F0"}),dataIndex:"displayName"},{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:Description",defaultMessage:"\u63CF\u8FF0"}),dataIndex:"description",search:!1},{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:Value",defaultMessage:"\u503C"}),width:100,dataIndex:"value",search:!1},{title:h.formatMessage({id:"DisplayName:SettingDefinitionDto:IsEncrypted",defaultMessage:"\u662F\u5426\u52A0\u5BC6"}),dataIndex:"isEncrypted",renderText:function(o){return(0,a.jsx)(a.Fragment,{children:o.toString()})},search:!1},{title:h.formatMessage({id:"JhAbp:Operation",defaultMessage:"\u64CD\u4F5C"}),key:"option",valueType:"option",render:function(o,l){return[i["SettingManagement.Settings.Update"]&&(0,a.jsx)("a",{onClick:function(){return fe(l)},children:h.formatMessage({id:"Permission:Edit",defaultMessage:"\u7F16\u8F91"})},"edit")]}}],ge=function(){var E=(0,p.Z)(r().mark(function o(l,F){var f,X,C,ie,ue,oe,re;return r().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:f=[],X=new Object(F);for(C in X)X.hasOwnProperty(C)&&(ie=F[C],f.push("".concat(C," ").concat(ie.replace("end",""))));return ue=(0,Z.Z)((0,Z.Z)({},l),{},{sorting:f.join(",")}),x.next=6,c(ue);case 6:return oe=x.sent,re=oe.items,J(re.length),x.abrupt("return",{data:re,success:!0});case 10:case"end":return x.stop()}},o)}));return function(l,F){return E.apply(this,arguments)}}(),he={selectedRowKeys:M,onChange:function(o){return w(o)}},De=(0,d.useMemo)(function(){return{labelWidth:100,searchText:h.formatMessage({id:"proTable.search.searchText",defaultMessage:"\u67E5\u8BE2"}),resetText:h.formatMessage({id:"proTable.search.resetText",defaultMessage:"\u91CD\u7F6E"})}},[h]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.ZP,{children:(0,a.jsx)(g.ZP,{actionRef:H,columns:ve,rowSelection:he,request:function(o,l){return ge(o,l)},rowKey:"id",pagination:{pageSize:10,total:ae},dateFormatter:"string",search:De})}),(0,a.jsx)(W,{operator:ee,visible:t,current:I,onCancel:ce,onSubmit:me})]})},_=L},63876:function(ne,A,e){"use strict";e.d(A,{sQ:function(){return r},VH:function(){return d},cI:function(){return O}});var Z=e(3182),p=e(94043),v=e.n(p),P=e(21010),r=function(){var g=(0,Z.Z)(v().mark(function u(){return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,P.WY)("".concat(Identity_API,"api/v1/AppEnums/YesOrNo"));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},u)}));return function(){return g.apply(this,arguments)}}(),d=function(){var g=(0,Z.Z)(v().mark(function u(){return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,P.WY)("".concat(Identity_API,"api/v1/AppEnums/Provider"));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},u)}));return function(){return g.apply(this,arguments)}}(),O;(function(g){g[g.Add=1]="Add",g[g.Edit=2]="Edit",g[g.Detail=3]="Detail"})(O||(O={}))}}]);
